[gd_scene load_steps=6 format=3 uid="uid://dpit0y12m1pq8"]

[ext_resource type="Script" uid="uid://gvbj06cf1n4h" path="res://scenes/player/player.gd" id="1_dovo2"]
[ext_resource type="Texture2D" uid="uid://5em05bir2p7" path="res://graphics/ship.png" id="2_gmlin"]

[sub_resource type="Animation" id="Animation_dovo2"]
resource_name = "Flashing"
length = 0.500025
loop_mode = 1
step = 0.25
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_gmlin"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lvxji"]
_data = {
&"Flashing": SubResource("Animation_dovo2"),
&"RESET": SubResource("Animation_gmlin")
}

[node name="Player" type="CharacterBody2D"]
collision_mask = 31
script = ExtResource("1_dovo2")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
scale = Vector2(2, 2)
polygon = PackedVector2Array(-60, -26, -54, -26, -53, -25, -44, -25, -42, -24, -38, -24, -35, -21, -33, -21, -31, -18, -29, -18, -26, -14, -24, -14, -23, -13, -21, -13, -20, -11, -17, -11, -17, -12, -14, -12, -8, -14, 7, -14, 11, -13, 15, -12, 29, -5, 31, -4, 55, 4, 55, 5, 39, 9, -2, 9, -2, 13, -3, 14, -6, 14, -14, 15, -29, 19, -34, 20, -41, 21, -42, 22, -47, 22, -49, 20, -49, 17, -39, 10, -47, 5, -50, 4, -52, 3, -52, -1, -50, -3, -48, -3, -44, -5, -40, -6)

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(2, 2)
texture = ExtResource("2_gmlin")

[node name="Timers" type="Node" parent="."]

[node name="Hit" type="Timer" parent="Timers"]
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_lvxji")
}
speed_scale = 2.0

[connection signal="timeout" from="Timers/Hit" to="." method="_on_hit_timeout"]
